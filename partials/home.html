<div class="container">
    <div class="row branding">
        <div class="col-xs-8">
            <h2>E IM Assistant</h2>
        </div>
        <div class="col-xs-4">
            <img src="images/brand-logo.png">
        </div>
    </div>
    <div id="validation-form" class="row" data-ng-hide="session.valid" data-ng-cloak>
        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Log In</h3>
                </div>
                <div class="panel-body">
                    <div class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-user"></span>
                        <input type="text" class="form-control" data-ng-model="session.user" placeholder="Enter your name, please" ng-keyup="isValid($event.keyCode)"
                            autofocus>
                    </div>
                    <p>{{session.errorMessage}}
                        <p>
                            <div id="validation-form-submit">
                                <button class="btn btn-success" data-ng-click="isValid(13)">Submit</button>
                            </div>
                </div>
            </div>
        </div>
    </div>
    <!-- The user login view for a user array
    <div id="validation-form" class="row" data-ng-hide="session.valid" data-ng-cloak>
        <div class="col-xs-12 col-sm-8 col-sm-offset-2 col-md-6 col-md-offset-3 col-lg-4 col-lg-offset-4">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Log In</h3> 
                </div>
                <div class="panel-body">
                    <div class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-user"></span>
                        <input type="text" class="form-control" data-ng-model="session.code" placeholder="Enter your ID, please" ng-keyup="isValid($event.keyCode)">
                    </div>
                    <p>{{session.errorMessage}}<p>
                    <div id="validation-form-submit">
                        <button class="btn btn-success" data-ng-click="isValid(13)">Submit</button>
                    </div>      
                </div>
            </div>          
        </div>
    </div>
    -->


    <div class="row" data-ng-if="session.valid" data-ng-cloak>
        <div class="col-xs-12 col-sm-6 col-md-4">
            <!--This lets you choose what type of e-mail you are answering to.-->
            <select class="panel-heading" data-ng-options="option.name for option in select.Template | orderBy:'name' track by option.templateID" data-ng-model="data.message.template"></select>

            <!--This lets you select the right provider-->
            <select class="panel-heading" data-ng-options="option.name for option in select.Provider | orderBy:'name' track by option.providerID" data-ng-model="data.message.provider" data-ng-show="data.message.template.templateID == 46"></select>

            <!--This lets you select the right closing-->
            <select class="panel-heading" data-ng-options="option.name for option in select.Closing | orderBy:'name' track by option.closingID" data-ng-model="data.message.closing"></select>

            <!--This lets you enter the information that will be displayed in the response.-->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h3 class="panel-title">Information</h3>
                </div>
                <div class="panel-body">
                    <div ng-show="isNeeded('pN')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-book"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.pN" placeholder="Policy">
                    </div>
                    <div ng-show="isNeeded('duplicatePN')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-duplicate"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.duplicatePN" placeholder="Duplicate Policy">
                    </div>
                    <div ng-show="isNeeded('name')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-user"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.pH.name" placeholder="Name">
                    </div>
                    <div ng-show="isNeeded('doP')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-calendar"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.doP" placeholder="Date of Purchase">
                    </div>
                    <div ng-show="isNeeded('doC')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-calendar"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.doC" placeholder="Date of Cancellation">
                    </div>
                    <div ng-show="isNeeded('depD')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-calendar"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.depD" placeholder="Departure Date">
                    </div>
                    <div ng-show="isNeeded('retD')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-calendar"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.retD" placeholder="Return Date">
                    </div>
                    <div ng-show="isNeeded('address')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-home"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.pH.address" placeholder="Address">
                    </div>
                    <div ng-show="isNeeded('phone')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-earphone"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.pH.phone" placeholder="Phone">
                    </div>
                    <div ng-show="isNeeded('email')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-envelope"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.pH.email" placeholder="Email">
                    </div>
                    <div ng-show="isNeeded('amountCov')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-usd"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.amountCov" placeholder="Amount covered">
                    </div>
                    <div ng-show="isNeeded('amount')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-usd"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.payment.amount" placeholder="Amount refunded">
                    </div>
                    <div ng-show="isNeeded('brand')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-credit-card"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.payment.brand" placeholder="Brand">
                    </div>
                    <div ng-show="isNeeded('l4d')" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-triangle-right"></span>
                        <input type="text" class="form-control" data-ng-model="data.pol.payment.l4d" placeholder="Last four digits">
                    </div>
                    <div class="my-input-section" ng-show="isNeeded('claimN')">
                        <div class="mis-title">Claim Information</div>
                        <div class="input-group">
                            <span class="input-group-addon glyphicon glyphicon-book"></span>
                            <input type="text" class="form-control" data-ng-model="data.claim.claimN" placeholder="Claim">
                        </div>
                        <div ng-show="isNeeded('filedD')" class="input-group">
                            <span class="input-group-addon glyphicon glyphicon-calendar"></span>
                            <input type="text" class="form-control" data-ng-model="data.claim.filedD" placeholder="Filed Date">
                        </div>
                        <div ng-show="isNeeded('incD')" class="input-group">
                            <span class="input-group-addon glyphicon glyphicon-calendar"></span>
                            <input type="text" class="form-control" data-ng-model="data.claim.incD" placeholder="Incurred Date">
                        </div>
                        <div ng-show="isNeeded('amountClaimed')" class="input-group">
                            <span class="input-group-addon glyphicon glyphicon-usd"></span>
                            <input type="text" class="form-control" data-ng-model="data.claim.amountClaimed" placeholder="Amount Claimed">
                        </div>
                        <div ng-show="isNeeded('status')" class="input-group">
                            <span class="input-group-addon glyphicon glyphicon-edit"></span>
                            <input type="text" class="form-control" data-ng-model="data.claim.status" placeholder="Claim Status">
                        </div>
                        <div ng-show="isNeeded('statusReason')" class="input-group">
                            <span class="input-group-addon glyphicon glyphicon-comment"></span>
                            <input type="text" class="form-control" data-ng-model="data.claim.statusReason" placeholder="Status Reason">
                        </div>
                    </div>
                    <div id="mod-emp-stat" class="input-group">
                        <span class="input-group-addon glyphicon glyphicon-heart"></span>
                        <input type="text" class="form-control" data-ng-model="data.message.empathy_statement" placeholder="Modify the empathy statement">
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-12 col-sm-6 col-md-8">
            <!--This lets you see the response, and has the control for copying it, and deleting it.-->
            <div class="panel panel-default">
                <div id="response-box-title" class="panel-heading">
                    <h3 class="panel-title">E-Mail Response</h3>
                    <div>
                        <span id="copy-button" class="img-circle glyphicon glyphicon-copy" data-ng-click="copy()"></span>
                        <span id="remove-button" class="img-circle glyphicon glyphicon-remove" data-ng-click="clear()"></span>
                    </div>
                </div>
                <div id="email-response" class="panel-body">
                    <p>Dear <span data-ng-show="data.pol.pH.name">{{toTitleCase(data.pol.pH.name)}},</span><span data-ng-hide="data.pol.pH.name">Valued Customer,</span></p>
                    <p data-ng-show="data.pol.pN" data-ng-hide="data.claim.claimN">Policy {{toTitleCase(data.pol.pN)}}</p>
                    <p data-ng-show="data.claim.claimN" data-ng-hide="data.pol.pN">Claim {{data.claim.claimN}}</p>
                    <div class="response-body" data-ng-include="data.message.template.url"></div>
                    <div class="response-closing" data-ng-include="'partials/closing.html'"></div>
                </div>
            </div>
        </div>
    </div>
</div>
